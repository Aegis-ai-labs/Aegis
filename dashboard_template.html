<\!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>AEGIS1 Dashboard</title><style>body{font-family:system-ui;max-width:1200px;margin:0 auto;padding:20px}.status{padding:10px;margin:10px 0;border-radius:4px}.connected{background:#d4edda;color:#155724}.disconnected{background:#f8d7da;color:#721c24}.event{border:1px solid #ddd;padding:10px;margin:5px 0;border-radius:4px}#events{max-height:600px;overflow-y:auto}</style></head><body><h1>AEGIS1 Dashboard</h1><div id="status" class="status disconnected">Connecting...</div><div id="events"></div><script>const s=document.getElementById("status");const e=document.getElementById("events");let ws=null;function connect(){const p=window.location.protocol==="https:"?"wss:":"ws:";const url=p+"//"+window.location.host+"/ws/dashboard";ws=new WebSocket(url);ws.onopen=()=>{s.textContent="Connected";s.className="status connected"};ws.onmessage=(ev)=>{const msg=JSON.parse(ev.data);const el=document.createElement("div");el.className="event";el.textContent=JSON.stringify(msg,null,2);e.insertBefore(el,e.firstChild);if(e.children.length>100)e.removeChild(e.lastChild)};ws.onerror=(err)=>{console.error("Error:",err);s.textContent="Error";s.className="status disconnected"};ws.onclose=()=>{s.textContent="Reconnecting...";s.className="status disconnected";setTimeout(connect,3000)}}connect()</script></body></html>
